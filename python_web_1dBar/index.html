<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Bar Meter</title>
    <style>
        #meter {
            width: 10vh;
            height: 80vh;
            border: 2px solid black;
            border-radius: 10px;
            position: relative;
            margin: 10vh auto;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            font-size: 5vh;
            color: white;
        }

        #bar {
            width: 100%;
            height: 0;
            background-color: lightcoral;
            position: absolute;
            bottom: 0;
            transition: height 0.2s; /* Speed up the transition */
        }

        #value {
            position: absolute;
            bottom: 100%;
            text-shadow: 2px 2px 4px black;
            color: black;
            font-size: 3vh;
            z-index: 1;
        }

        .marker {
            position: absolute;
            left: 100%;
            width: 5vh;
            height: 2px;
            background-color: black;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3vh;
            transform: translateX(50%);
        }

        .marker-label {
            position: absolute;
            left: 105%;
            transform: translateX(50%);
            font-size: 3vh;
            color: black;
        }
    </style>
</head>
<body>
    <div id="meter">
        <div id="bar"></div>
        <div id="value">0.0</div>
        <div class="marker" style="bottom: 0%;"></div>
        <div class="marker-label" style="bottom: 0%;">0.0</div>
        <div class="marker" style="bottom: 10%;"></div>
        <div class="marker-label" style="bottom: 10%;">0.1</div>
        <div class="marker" style="bottom: 20%;"></div>
        <div class="marker-label" style="bottom: 20%;">0.2</div>
        <div class="marker" style="bottom: 30%;"></div>
        <div class="marker-label" style="bottom: 30%;">0.3</div>
        <div class="marker" style="bottom: 40%;"></div>
        <div class="marker-label" style="bottom: 40%;">0.4</div>
        <div class="marker" style="bottom: 50%;"></div>
        <div class="marker-label" style="bottom: 50%;">0.5</div>
        <div class="marker" style="bottom: 60%;"></div>
        <div class="marker-label" style="bottom: 60%;">0.6</div>
        <div class="marker" style="bottom: 70%;"></div>
        <div class="marker-label" style="bottom: 70%;">0.7</div>
        <div class="marker" style="bottom: 80%;"></div>
        <div class="marker-label" style="bottom: 80%;">0.8</div>
        <div class="marker" style="bottom: 90%;"></div>
        <div class="marker-label" style="bottom: 90%;">0.9</div>
        <div class="marker" style="bottom: 100%;"></div>
        <div class="marker-label" style="bottom: 100%;">1.0</div>
    </div>
    <script>
        let currentValue = 0;
        let targetValue = 0;

        function interpolate() {
            const bar = document.getElementById('bar');
            const valueDisplay = document.getElementById('value');

            currentValue += (targetValue - currentValue) * 0.3; // Increase the interpolation speed
            const heightPercentage = currentValue * 100;

            bar.style.height = `${heightPercentage}%`;
            valueDisplay.textContent = currentValue.toFixed(2);

            requestAnimationFrame(interpolate);
        }

        function updateNeedle() {
            targetValue = Math.random();
        }

        setInterval(updateNeedle, 1000); // Update target value every second
        requestAnimationFrame(interpolate); // Start the interpolation loop
    </script>
</body>
</html>
